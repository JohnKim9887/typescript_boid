var B=Object.defineProperty;var F=(o,t,i)=>t in o?B(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i;var a=(o,t,i)=>F(o,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();console.log("Hello world");const b=[],V=[];let L=50,T=.01,O=.01,U=.001,G=.001,d=100,M=600,g=300,A=200,S=200,W=2,$=200,H=.2;function w(o,t,i,e){const n=document.getElementById(o),r=document.getElementById(t);n.value=i.toString(),r.textContent=i.toString(),e(i),n.addEventListener("input",function(s){const l=s.target,y=Number(l.value);r.textContent=y.toString(),e(y)})}w("birdMaxSpeed","birdMaxSpeedText",d,function(o){d=o});w("birdSeparationDistance","birdSeparationDistanceText",A,function(o){A=o});w("birdAlignmentDistance","birdAlignmentDistanceText",S,function(o){S=o});w("birdCohesionDistance","birdCohesionDistanceText",g,function(o){g=o});class m{constructor(t,i){a(this,"xPos",0);a(this,"yPos",0);this.x=t,this.y=i,this.xPos=t,this.yPos=i}}class c{constructor(t,i){this.x=t,this.y=i}addVector(t){this.x+=t.x,this.y+=t.y}subtractVector(t){this.x-=t.x,this.y-=t.y}getUnitVector(){return Math.hypot(this.x,this.y)!=0?new c(this.x/Math.hypot(this.x,this.y),this.y/Math.hypot(this.x,this.y)):new c(0,0)}multiplyMagnitude(t){this.x*=t,this.y*=t}}const u=new m(0,0);class v{constructor(t,i,e,n){a(this,"position");a(this,"birdVector");a(this,"birdBodyImage");a(this,"birdPointer");a(this,"sepArrow");a(this,"alignArrow");a(this,"consolArrow");a(this,"combineArrow");this.position=t,this.birdVector=i,this.birdBodyImage=e,this.birdPointer=n,this.birdBodyImage.dataset.x=t.x.toString(),this.birdBodyImage.dataset.y=t.y.toString(),this.birdBodyImage.style.left=`${t.x.toString()}px`,this.birdBodyImage.style.top=`${t.y.toString()}px`,document.body.appendChild(this.birdBodyImage),this.sepArrow=document.createElement("div"),this.sepArrow.className="sepVector",this.sepArrow.style.left=`${t.x.toString()}px`,this.sepArrow.style.top=`${t.y.toString()}px`,document.body.appendChild(this.sepArrow),this.alignArrow=document.createElement("div"),this.alignArrow.className="alignVector",this.alignArrow.style.left=`${this.position.x.toString()}px`,this.alignArrow.style.top=`${this.position.y.toString()}px`,document.body.appendChild(this.alignArrow),this.consolArrow=document.createElement("div"),this.consolArrow.className="consolVector",this.consolArrow.style.left=`${this.position.x.toString()}px`,this.consolArrow.style.top=`${this.position.y.toString()}px`,document.body.appendChild(this.consolArrow),this.combineArrow=document.createElement("div"),this.combineArrow.className="combineVector",this.combineArrow.style.left=`${this.position.x.toString()}px`,this.combineArrow.style.top=`${this.position.y.toString()}px`,document.body.appendChild(this.combineArrow)}addVector(t){this.birdVector.x+=t.x,this.birdVector.y+=t.y}addPivotGravity(t){this.birdVector.x+=t.x,this.birdVector.y+=t.y}addSepVector(t){const i=f(t);this.sepArrow.style.transform="rotate("+i+"deg)",this.sepArrow.style.width=`${Math.hypot(t.x,t.y)}px`,this.birdVector.x+=t.x,this.birdVector.y+=t.y}addAlignVector(t){t.multiplyMagnitude(O);const i=f(t);this.alignArrow.style.transform="rotate("+i+"deg)",this.alignArrow.style.width=`${Math.hypot(t.x,t.y)}px`,this.birdVector.x+=t.x,this.birdVector.y+=t.y}addConsolVector(t){const i=f(t);this.consolArrow.style.transform="rotate("+i+"deg)",this.consolArrow.style.width=`${Math.hypot(t.x,t.y)}px`,this.birdVector.x+=t.x,this.birdVector.y+=t.y}moveStep(t){this.position.x+=this.birdVector.x*t,this.position.y+=this.birdVector.y*t,this.birdBodyImage.dataset.x=this.position.x.toString(),this.birdBodyImage.dataset.y=this.position.y.toString(),this.birdBodyImage.style.left=`${this.position.x.toString()}px`,this.birdBodyImage.style.top=`${this.position.y.toString()}px`;const i=this.position.x,e=this.position.y;this.birdBodyImage.style.left=`${i}px`,this.birdBodyImage.style.top=`${e}px`,this.sepArrow.style.left=`${i+16}px`,this.sepArrow.style.top=`${e+16}px`,this.alignArrow.style.left=`${i+16}px`,this.alignArrow.style.top=`${e+16}px`,this.consolArrow.style.left=`${i+16}px`,this.consolArrow.style.top=`${e+16}px`,this.combineArrow.style.left=`${i+16}px`,this.combineArrow.style.top=`${e+16}px`;const n=f(this.birdVector);this.combineArrow.style.transform=`rotate(${n}deg)`,this.combineArrow.style.width=`${Math.hypot(this.birdVector.x,this.birdVector.y)}px`,this.birdVector.x>d&&(this.birdVector.x=d),this.birdVector.y>d&&(this.birdVector.y=d),this.birdVector.x<-d&&(this.birdVector.x=-d),this.birdVector.y<-d&&(this.birdVector.y=-d)}}class R extends v{constructor(){super(...arguments);a(this,"fearLevel",10)}}function K(o){for(let i=0;i<o;i++){const e=new m(Math.random()*window.innerWidth,Math.random()*window.innerHeight),n=new c(0,0),r=document.createElement("div");r.className="birdSquare";const s=document.createElement("div");s.className="birdPointer";const l=new v(e,n,r,s);b.push(l)}u.x=window.innerWidth/2,u.y=window.innerHeight/2;const t=document.createElement("div");t.className="middleSquare",t.style.left=`${u.x.toString()}px`,t.style.top=`${u.y.toString()}px`,document.body.appendChild(t);for(let i=0;i<W;i++){const e=new m(Math.random()*window.innerWidth,Math.random()*window.innerHeight),n=new c(0,0),r=document.createElement("div");r.className="hunterBirdSquare";const s=document.createElement("div");s.className="hunterBirdPointer";const l=new R(e,n,r,s);V.push(l)}}K(L);let x=performance.now();function E(o){if(o-x>=100){const t=(o-x)/1e3;x=o,j(t,b,V),console.log("Bird Updating")}else{const t=(o-x)/1e3;z(t,b,V)}requestAnimationFrame(E)}requestAnimationFrame(E);function j(o,t,i){t.forEach(e=>{e.birdVector.multiplyMagnitude(1),P(e,t,i),e.moveStep(o)}),i.forEach(e=>{e.birdVector.multiplyMagnitude(1),D(e,t,i),e.moveStep(o)})}function z(o,t,i){t.forEach(e=>{P(e,t,i),e.moveStep(o)}),i.forEach(e=>{e.birdVector.multiplyMagnitude(1),D(e,t,i),e.moveStep(o)})}function P(o,t,i){const e=[],n=[],r=[];t.forEach(p=>{p!==o&&(h(p.position,o.position)<g&&r.push(p),h(p.position,o.position)<S&&n.push(p),h(p.position,o.position)<A&&e.push(p))});const s=J(o,e);console.log(`DebugSep ${s.x},${s.y}`),o.addSepVector(s);const l=X(o,n);console.log(`DebugAln ${l.x},${l.y}`),o.addAlignVector(l);const y=C(o,r);console.log(`DebugCoh ${y.x},${y.y}`),o.addConsolVector(y);const q=I(o,i);o.addVector(q),o.addPivotGravity(N(o,u))}function D(o,t,i){const e=[];t.forEach(s=>{h(s.position,o.position)<g&&e.push(s)});const n=C(o,e);console.log(`HunterBird: DebugCoh ${n.x},${n.y}`),o.addConsolVector(n);const r=I(o,i);o.addVector(r),o.addPivotGravity(N(o,u))}function I(o,t){let i=new c(0,0),e=1e8;return t.forEach(n=>{if(n!==o&&h(n.position,o.position)<e&&(e=h(n.position,o.position),e<$)){const r=$/h(n.position,o.position);i=new c(-(n.position.x-o.position.x),-(n.position.y-o.position.y)),i.multiplyMagnitude(r),i.multiplyMagnitude(H)}}),i}function h(o,t){const i=Math.hypot(o.x-t.x,o.y-t.y);return Math.abs(i)}function J(o,t){const i=new c(0,0);return t.forEach(e=>{i.addVector(Q(o,e))}),i}function Q(o,t){const i=h(t.position,o.position),e=Math.pow(Math.abs(g-i)/g,2),n=new c((o.position.x-t.position.x)*e,(o.position.y-t.position.y)*e);return n.multiplyMagnitude(T),n}function X(o,t){const i=new c(0,0),e=new c(0,0);let n=0;if(t.forEach(l=>{n+=1,e.addVector(l.birdVector)}),n===0)return i;const r=o.birdVector.getUnitVector();return new c(e.getUnitVector().x-r.x,e.getUnitVector().y-r.y)}function C(o,t){const i=new m(0,0);let e=new c(0,0),n=0;if(t.forEach(s=>{n+=1,i.x+=s.position.x,i.y+=s.position.y}),n===0)return e;const r=new m(i.x/n,i.y/n);return e=new c(r.x-o.position.x,r.y-o.position.y),e.multiplyMagnitude(U),e}function f(o){return Math.atan2(o.y,o.x)*180/Math.PI}function N(o,t){let i=new c(0,0);const e=h(t,o.position);if(e>M){i=new c(t.x-o.position.x,t.y-o.position.y);const n=Math.pow(e/M,2);return i.multiplyMagnitude(n),i.multiplyMagnitude(G),i}else return i}
